# 自动驾驶目标检测系统 - UI模块

## 目概述

这是一个基于PyQt5开发的通用目标检测系统用户界面，支持多种YOLO模型（YOLOv3、YOLOv5、YOLOv8）进行实时目标检测。系统提供图像检测、视频检测和实时摄像头检测功能，具有现代化的UI设计和丰富的交互功能。

## 文件结构

```
ui/
├── main.py              # 应用程序入口点
├── aiwindow.py          # 主窗口类（核心业务逻辑）
├── aiui.py             # UI界面设置类（样式和布局）
├── aiapplication.py    # 应用程序类（全局设置）
├── aicamera.py         # 摄像头和视频处理类
└── README.md           # 本文档
```

## 文件详细说明

### 1. main.py - 应用程序入口

**功能**: 应用程序的启动入口点
**主要职责**:

- 初始化PyQt5应用程序
- 配置高DPI缩放支持
- 设置全局样式和主题（深色主题）
- 创建并显示主窗口

**关键特性**:

- 支持高DPI显示
- 现代化深色主题设计
- 全局字体和样式配置

### 2. aiwindow.py - 主窗口类

**功能**: 系统的核心业务逻辑和主窗口实现
**主要职责**:

- 集成UI界面设置和摄像头视频处理
- 实现YOLO模型加载和推理
- 处理用户交互和事件响应
- 管理检测流程和结果显示

**核心功能**:

- **模型管理**: 支持YOLOv1/v3/v5/v8模型加载
- **检测模式**: 图像检测、视频检测、实时摄像头检测
- **参数调节**: 置信度阈值、IOU阈值、性能设置
- **结果展示**: 实时检测结果可视化
- **后台推理**: 多线程推理避免UI阻塞

**关键类**:

- `AutonomousDrivingUI`: 主窗口类
- `InferenceThread`: 后台推理线程类

### 3. aiui.py - UI界面设置类

**功能**: 负责界面布局设计和样式设置
**主要职责**:

- 创建和配置UI组件
- 设置界面样式和主题
- 实现参数调节对话框
- 管理界面布局和响应式设计

**界面组件**:

- **模型配置组**: 权重选择、参数设置按钮
- **输入源组**: 图像、视频、摄像头选择
- **控制组**: 开始/停止检测、保存选项
- **检测信息组**: 实时检测结果显示
- **视频显示组**: 检测画面展示区域
- **状态日志组**: 系统状态和日志信息

**样式特性**:

- 现代化卡片式设计
- 渐变按钮和交互效果
- 响应式布局适配
- 深色主题配色方案

### 4. aiapplication.py - 应用程序类

**功能**: 应用程序的全局配置和管理
**主要职责**:

- 应用程序级别的初始化
- 全局样式设置
- 应用程序属性配置
- 主窗口管理

**配置项**:

- 应用程序名称和版本
- 全局字体设置
- 高DPI支持配置

### 5. aicamera.py - 摄像头和视频处理类

**功能**: 处理摄像头和视频相关的所有功能
**主要职责**:

- 摄像头初始化和控制
- 视频文件播放管理
- 图像显示和格式转换
- 多线程视频处理

**核心类**:

- `AICamera`: 真实摄像头线程类
- `VideoThread`: 视频播放线程类
- `CameraVideoHandler`: 摄像头和视频处理基类

**功能特性**:

- 支持多种视频格式
- 实时摄像头捕获
- 帧率控制和优化
- 图像格式转换（BGR↔RGB）

```bash
python main.py
```
